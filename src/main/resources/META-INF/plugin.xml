<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin require-restart="true">
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>net.fallingangel.jimmer-dto</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>JimmerDTO</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="the.fallenangel.965@gmail.com" url="https://fallingangel.net">the_FallenAngel</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
    <h3>English:</h3>
    <ul>
    <li>Provide syntax support for the DTO language of the Jimmer framework.</li>
    <li>Provide legality check for hard-coded strings of Jimmer entity interfaces, supporting Java and Kotlin.</li>
    </ul>
    <h3>中文：</h3>
    <ul>
    <li>为Jimmer框架的DTO语言提供语法支持</li>
    <li>为Jimmer实体接口的硬编码字符串提供合法检测，支持Java、Kotlin</li>
    </ul>
  ]]></description>

    <change-notes><![CDATA[
    <p><b>0.0.6 (2023-09-18)</b></p>
    <ul>
      <li><b>Removal</b>Removed support for 2020.x, 2021.x IDEs</li>
      <li><b>Feature</b>Support to create/jump to dto file by "Right click/JimmerDtoFile" on entity interface file</li>
      <li><b>Feature</b>Add Gutter icon for dto definitions in dto file to jump directly to the generated class definition</li>
      <li><b>Feature</b>Added support for creating line comments and block comments via shortcut keys, but document comments still need to be created manually</li>
      <li><b>Feature</b>Added support for pairwise matching of parentheses</li>
      <li><b>Feature</b>Colorize [param-name =] for named parameters</li>
    </ul>
    <ul>
      <li><b>移除</b>删除了对 2020.x、2021.x IDE的支持</li>
      <li><b>新特性</b>支持通过在实体接口文件上『右键/JimmerDtoFile』创建/跳转dto文件</li>
      <li><b>新特性</b>在dto文件中为dto定义新增Gutter图标，可直接跳转生成的类定义</li>
      <li><b>新特性</b>新增通过快捷键创建行注释、块注释，但文档注释仍需手动创建</li>
      <li><b>新特性</b>新增括号的配对匹配</li>
      <li><b>新特性</b>为命名参数的[param-name =]上色</li>
    </ul>
    <hr/>
    <p><b>0.0.5 (2023-09-07)</b></p>
    <ul>
      <li><b>Feature</b>Add styles for negative properties</li>
      <li><b>Feature</b>Add error style prompts for original in the as group</li>
      <li><b>Bug Fix</b>Fixed an issue where incorrect styles would affect other languages</li>
    </ul>
    <ul>
      <li><b>新特性</b>为负属性添加样式</li>
      <li><b>新特性</b>为as组中的original添加错误样式提示</li>
      <li><b>修复Bug</b>修复错误样式会对其它语言有影响的问题</li>
    </ul>
    <hr/>
    <p><b>0.0.4 (2023-09-05)</b></p>
    <ul>
      <li><b>Bug Fix</b>Fix incorrect syntax color definitions, unaffect syntax coloring for all languages</li>
      <li><b>Bug Fix</b>Adjust BNF grammar and fix the issue of adding annotations to associated attributes that may result in errors</li>
    </ul>
    <ul>
      <li><b>修复Bug</b>修复错误的语法颜色定义，解除对所有语言的语法着色的影响</li>
      <li><b>修复Bug</b>调整BNF文法，修复为关联属性添加注解会报错的问题</li>
    </ul>
    <hr/>
    <p><b>0.0.3 (2023-09-02)</b></p>
    <ul>
      <li><b>Feature</b>Add syntax hints for user types and user type generics</li>
      <li><b>Feature</b>Add restrictions on method and macro names</li>
      <li><b>Feature</b>Add highlighting when DTO name is selected</li>
      <li><b>Bug Fix</b>Fixed the macro highlighting exception when a space exposes '#' and the macro name</li>
    </ul>
    <ul>
      <li><b>新特性</b>新增对用户类型及用户类型泛型的语法提示</li>
      <li><b>新特性</b>新增对方法名和宏名的限制</li>
      <li><b>新特性</b>加入选中DTO名称时的高亮</li>
      <li><b>修复Bug</b>修复宏的高亮在空格公开『#』和宏名时的异常显示</li>
    </ul>
    <hr/>
    <p><b>0.0.2 (2023-08-30)</b></p>
    <ul>
      <li><b>Feature</b>Add documentation comments</li>
      <li><b>Bug Fix</b>Add restrictions on the order in which import statements appear</li>
    </ul>
    <ul>
      <li><b>新特性</b>加入文档注释</li>
      <li><b>修复Bug</b>加入对import语句出现顺序的限制</li>
    </ul>
    <hr/>
    <p><b>0.0.1 (2023-08-29)</b></p>
    <ul>
      <li>Plugin published</li>
      <li>Provides basic syntax highlighting</li>
    </ul>
    <ul>
      <li>插件发布了</li>
      <li>提供了基本的语法高亮</li>
    </ul>
    ]]></change-notes>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>
    <depends>org.jetbrains.kotlin</depends>

    <actions>
        <group id="JimmerDTOEntityPopupMenu">
            <separator/>
        </group>

        <action id="CreateOrJumpToJimmerDtoFile" class="net.fallingangel.jimmerdto.action.CreateJimmerDtoFile" text="JimmerDto File"
                description="Create new JimmerDTO file or jump to it if exists" icon="Icons.icon_16">
            <add-to-group group-id="JimmerDTOEntityPopupMenu"/>
        </action>

        <group id="JimmerDTOEntityPopupMenuWrapper">
            <reference ref="JimmerDTOEntityPopupMenu"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="after" relative-to-action="WeighingNewGroup"/>
        </group>
    </actions>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <fileType
                name="JimmerDTO"
                implementationClass="net.fallingangel.jimmerdto.DTOFileType"
                fieldName="INSTANCE"
                language="JimmerDTO"
                extensions="dto"
        />

        <lang.parserDefinition
                language="JimmerDTO"
                implementationClass="net.fallingangel.jimmerdto.DTOParserDefinition"
        />
        <lang.syntaxHighlighterFactory
                language="JimmerDTO"
                implementationClass="net.fallingangel.jimmerdto.highlighting.DTOSyntaxHighlighterFactory"/>

        <colorSettingsPage implementation="net.fallingangel.jimmerdto.highlighting.DTOColorSettingsPage"/>
        <annotator language="JimmerDTO" implementationClass="net.fallingangel.jimmerdto.highlighting.DTOAnnotator"/>
        <additionalTextAttributes scheme="Default" file="colorSchemas/default.xml"/>

        <lang.braceMatcher language="JimmerDTO" implementationClass="net.fallingangel.jimmerdto.completion.DTOBraceMatcher"/>
        <lang.commenter language="JimmerDTO" implementationClass="net.fallingangel.jimmerdto.completion.DTOCommenter"/>
        <completion.contributor language="JimmerDTO" implementationClass="net.fallingangel.jimmerdto.completion.DTOCompletionContributor"/>

        <codeInsight.lineMarkerProvider language="JimmerDTO" implementationClass="net.fallingangel.jimmerdto.DTOLineMarkerProvider"/>
        <codeInsight.inlayProvider language="JimmerDTO" implementationClass="net.fallingangel.jimmerdto.highlighting.DTOInlayHintProvider"/>

        <psi.referenceContributor language="JimmerDTO" implementation="net.fallingangel.jimmerdto.reference.DTOReferenceContributor"/>
    </extensions>
</idea-plugin>
